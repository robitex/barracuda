% !TeX program = LuaTeX
% Copyright (C) 2018 Roberto Giacomelli

\newbox\mybox
\nopagenumbers

EAN 13 encoder test.

Test 1: one simple barcode with default parameter:

\directlua{
local barracuda = require "barracuda"
local barcode = barracuda:get_barcode_class()

local ean13, err = barcode:new_encoder("ean13")
assert(not err, err)

% local symbo, err = ean13:from_string("2412345678901")
local symbo, err = ean13:from_string("8006194056290")
assert(not err, err)

local canvas = barracuda:new_canvas()
symbo:append_graphic(canvas)

local drv, err = barracuda:load_driver("native")
assert(not err, err)

drv:ga_to_hbox(canvas, "mybox")
}
\vrule A\vrule\box\mybox \vrule A\vrule


That's all folk!

\bye


