% !TeX program = LuaTeX
% Copyright (C) 2018 Roberto Giacomelli

\newbox\mybox
\nopagenumbers

\directlua{
local barracuda = require "barracuda"

local c128, err = barracuda:new_encoder("code128")
assert(not err, err)

local symbo, err = c128:from_string("5465468132546812")
assert(not err, err)

local canvas = barracuda:new_canvas()
symbo:append_graphic(canvas)

local drv, err = barracuda:load_driver("native")
assert(not err, err)

drv:ga_to_hbox(canvas, "mybox")
}
\vrule A\vrule\box\mybox \vrule A\vrule
\bye


